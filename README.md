# url-shortener-api


**Запуск проекта:**

Проект написан с возможностью использования двух протоколов: либо HTTP, либо gRPC. 
Для выбора какой протокол использовать, нужно будет добавить к `make` команду с выбором конкретного протокола.

 - `make` - без дополнительных параметров соберет и запустит проект с использованием HTTP и in-memory хранилищем для ссылок;


*Команды сборки проекта:*

 - `make build-http` - соберет проект с использованием HTTP;
 - `make build-grpc` - соберет проект с использованием gRPC;

*Команды запуска проекта:*

- `make up-in-memory` - запустит проект с использованием in-memory хранилищем данных;
- `make up-postgres` - запустит проект с использованием базы данных postgres, которая будет запущена внутри Docker контейнера.

*Запуск тестов:*

`make test` - запустит unit тесты.


**Пояснения к решению задачи**

Во время написания тестового я столкнулась с несколькими неоднозначностями, здесь бы я хотела пояснить их:

- так как приложение должно быть распространено в виде докер образа,
то хост для подключения к postgres указан как host.docker.internal(чтобы оба
контейнера поднимать с помощью docker-compose). При необходимости запуска приложения вне docker и подключения к базе которая находится внутри docker контейнера, нужно изменить host на localhost при подключении.
- port для grpc выбран 8080 для того чтобы проект можно было запускать как с HTTP так и gRPC. Также сам порт указан как постоянное значение, так как задание не предполагало парсинг его из конфига.
